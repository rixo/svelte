import{S as e,i as t,s,e as l,c as a,a as r,d as c,b as n,g as o,B as i,C as f,h as p,D as h,M as u,j as d,l as m,L as g,f as v,N as $,m as b,t as _,p as w,q as E,R as x,K as k,v as j,H as S,a3 as T,Q as D,$ as A,u as I,a0 as V}from"./index.4b91315e.js";import"./index.3fc4c05d.js";import{g as N}from"./app.5b72d019.js";import{a as O}from"./index.6646c9f6.js";import{R as y}from"./Repl.5dfff9ea.js";import{s as R,r as M,m as P,S as U}from"./config.37973edc.js";function z(e,t,s){const l=Object.create(e);return l.chapter=t[s],l.i=s,l}function C(e,t,s){const l=Object.create(e);return l.section=t[s],l.i=s,l}function B(e){var t,s,n,u,d,m=String.fromCharCode(e.i+97)+"",g=e.chapter.title+"";return{c(){t=l("option"),s=i(m),n=i(". "),u=i(g),this.h()},l(e){t=a(e,"OPTION",{value:!0},!1);var l=r(t);s=f(l,m),n=f(l,". "),u=f(l,g),l.forEach(c),this.h()},h(){t.__value=d=e.chapter.slug,t.value=t.__value},m(e,l){o(e,t,l),p(t,s),p(t,n),p(t,u)},p(e,s){e.sections&&g!==(g=s.chapter.title+"")&&h(u,g),e.sections&&d!==(d=s.chapter.slug)&&(t.__value=d),t.value=t.__value},d(e){e&&c(t)}}}function G(e){var t,s;let i=e.section.chapters,f=[];for(let t=0;t<i.length;t+=1)f[t]=B(z(e,i,t));return{c(){t=l("optgroup");for(let e=0;e<f.length;e+=1)f[e].c();this.h()},l(e){t=a(e,"OPTGROUP",{label:!0},!1);var s=r(t);for(let e=0;e<f.length;e+=1)f[e].l(s);s.forEach(c),this.h()},h(){n(t,"label",s=e.i+1+". "+e.section.title)},m(e,s){o(e,t,s);for(let e=0;e<f.length;e+=1)f[e].m(t,null)},p(e,l){if(e.sections){let s;for(i=l.section.chapters,s=0;s<i.length;s+=1){const a=z(l,i,s);f[s]?f[s].p(e,a):(f[s]=B(a),f[s].c(),f[s].m(t,null))}for(;s<f.length;s+=1)f[s].d(1);f.length=i.length}e.sections&&s!==(s=l.i+1+". "+l.section.title)&&n(t,"label",s)},d(e){e&&c(t),u(f,e)}}}function L(e){var t,s,x,k,j,S,T,D,A,I,V,N,y,R,M,P,U,z,B,L,q,H=e.selected.section.title+"",J=e.selected.chapter.title+"",K=new O({props:{name:"arrow-left"}}),Q=new O({props:{name:"menu"}});let F=e.sections,X=[];for(let t=0;t<F.length;t+=1)X[t]=G(C(e,F,t));var Y=new O({props:{name:"arrow-right"}});return{c(){t=l("nav"),s=l("a"),K.$$.fragment.c(),k=d(),j=l("div"),S=l("span"),T=l("strong"),D=l("span"),Q.$$.fragment.c(),A=d(),I=i(H),V=i(" /"),N=d(),y=i(J),R=d(),M=l("select");for(let e=0;e<X.length;e+=1)X[e].c();U=d(),z=l("a"),Y.$$.fragment.c(),this.h()},l(e){t=a(e,"NAV",{class:!0},!1);var l=r(t);s=a(l,"A",{rel:!0,class:!0,href:!0},!1);var n=r(s);K.$$.fragment.l(n),n.forEach(c),k=m(l),j=a(l,"DIV",{class:!0},!1);var o=r(j);S=a(o,"SPAN",{class:!0},!1);var i=r(S);T=a(i,"STRONG",{class:!0},!1);var p=r(T);D=a(p,"SPAN",{style:!0,class:!0},!1);var h=r(D);Q.$$.fragment.l(h),h.forEach(c),A=m(p),I=f(p,H),V=f(p," /"),p.forEach(c),N=m(i),y=f(i,J),i.forEach(c),R=m(o),M=a(o,"SELECT",{value:!0,class:!0},!1);var u=r(M);for(let e=0;e<X.length;e+=1)X[e].l(u);u.forEach(c),o.forEach(c),U=m(l),z=a(l,"A",{rel:!0,class:!0,href:!0},!1);var d=r(z);Y.$$.fragment.l(d),d.forEach(c),l.forEach(c),this.h()},h(){n(s,"rel","prefetch"),n(s,"class","no-underline svelte-faku86"),n(s,"href",x="tutorial/"+(e.selected.prev||e.selected).slug),g(s,"disabled",!e.selected.prev),v(D,"position","relative"),v(D,"top","-0.1em"),v(D,"margin","0 0.5em 0 0"),n(D,"class","svelte-faku86"),n(T,"class","svelte-faku86"),n(S,"class","svelte-faku86"),n(M,"class","svelte-faku86"),n(j,"class","svelte-faku86"),n(z,"rel","prefetch"),n(z,"class","no-underline svelte-faku86"),n(z,"href",B="tutorial/"+(e.selected.next||e.selected).slug),g(z,"disabled",!e.selected.next),n(t,"class","svelte-faku86"),q=$(M,"change",W)},m(l,a){o(l,t,a),p(t,s),b(K,s,null),p(t,k),p(t,j),p(j,S),p(S,T),p(T,D),b(Q,D,null),p(T,A),p(T,I),p(T,V),p(S,N),p(S,y),p(j,R),p(j,M);for(let e=0;e<X.length;e+=1)X[e].m(M,null);P=e.slug;for(var r=0;r<M.options.length;r+=1){var c=M.options[r];if(c.__value===P){c.selected=!0;break}}p(t,U),p(t,z),b(Y,z,null),L=!0},p(e,t){if(L&&!e.selected||x===(x="tutorial/"+(t.selected.prev||t.selected).slug)||n(s,"href",x),e.selected&&g(s,"disabled",!t.selected.prev),L&&!e.selected||H===(H=t.selected.section.title+"")||h(I,H),L&&!e.selected||J===(J=t.selected.chapter.title+"")||h(y,J),e.sections){let s;for(F=t.sections,s=0;s<F.length;s+=1){const l=C(t,F,s);X[s]?X[s].p(e,l):(X[s]=G(l),X[s].c(),X[s].m(M,null))}for(;s<X.length;s+=1)X[s].d(1);X.length=F.length}if((!L||e.slug)&&P!==(P=t.slug))for(var l=0;l<M.options.length;l+=1){var a=M.options[l];if(a.__value===P){a.selected=!0;break}}L&&!e.selected||B===(B="tutorial/"+(t.selected.next||t.selected).slug)||n(z,"href",B),e.selected&&g(z,"disabled",!t.selected.next)},i(e){L||(_(K.$$.fragment,e),_(Q.$$.fragment,e),_(Y.$$.fragment,e),L=!0)},o(e){w(K.$$.fragment,e),w(Q.$$.fragment,e),w(Y.$$.fragment,e),L=!1},d(e){e&&c(t),E(K),E(Q),u(X,e),E(Y),q()}}}function W(e){N(`tutorial/${e.target.value}`)}function q(e,t,s){let{sections:l,slug:a,selected:r}=t;return e.$set=e=>{"sections"in e&&s("sections",l=e.sections),"slug"in e&&s("slug",a=e.slug),"selected"in e&&s("selected",r=e.selected)},{sections:l,slug:a,selected:r}}class H extends e{constructor(e){super(),t(this,e,q,L,s,["sections","slug","selected"])}}const{window:J}=T;function K(e){var t,s,u,d=e.completed?"Reset":"Show me";return{c(){t=l("button"),s=i(d),this.h()},l(e){t=a(e,"BUTTON",{class:!0},!1);var l=r(t);s=f(l,d),l.forEach(c),this.h()},h(){n(t,"class","show svelte-163pr1f"),u=$(t,"click",e.click_handler)},m(e,l){o(e,t,l),p(t,s)},p(e,t){e.completed&&d!==(d=t.completed?"Reset":"Show me")&&h(s,d)},d(e){e&&c(t),u()}}}function Q(e){var t,s,h;return{c(){t=l("a"),s=i("Next"),this.h()},l(e){t=a(e,"A",{class:!0,href:!0},!1);var l=r(t);s=f(l,"Next"),l.forEach(c),this.h()},h(){n(t,"class","next svelte-163pr1f"),n(t,"href",h="tutorial/"+e.selected.next.slug)},m(e,l){o(e,t,l),p(t,s)},p(e,s){e.selected&&h!==(h="tutorial/"+s.selected.next.slug)&&n(t,"href",h)},d(e){e&&c(t)}}}function F(e){var t,s;function l(s){e.screentoggle_offset_binding.call(null,s),t=!0,V(()=>t=!1)}let a={labels:["tutorial","input","output"]};void 0!==e.offset&&(a.offset=e.offset);var r=new U({props:a});return D.push(()=>A(r,"offset",l)),{c(){r.$$.fragment.c()},l(e){r.$$.fragment.l(e)},m(e,t){b(r,e,t),s=!0},p(e,s){var l={};!t&&e.offset&&(l.offset=s.offset),r.$set(l)},i(e){s||(_(r.$$.fragment,e),s=!0)},o(e){w(r.$$.fragment,e),s=!1},d(e){E(r,e)}}}function X(e){var t,s,h,u,g,v,S,T,D,A,V,N,O,U,z,C,B,G,L,W,q,X,Y,Z,ee,te,se,le=e.chapter.html+"";x(e.onwindowresize),document.title=t=e.selected.section.title+" / "+e.selected.chapter.title+" • Svelte Tutorial";var ae=new H({props:{sections:e.sections,slug:e.slug,selected:e.selected}}),re=e.chapter.app_b&&K(e),ce=e.selected.next&&Q(e);let ne={workersUrl:"workers",svelteUrl:R,rollupUrl:M,orientation:e.mobile?"columns":"rows",fixed:e.mobile,injectedJS:P,relaxed:!0};var oe=new y({props:ne});e.repl_1_binding(oe),oe.$on("change",e.handle_change);var ie=e.mobile&&F(e);return{c(){s=l("meta"),h=l("meta"),g=l("meta"),S=d(),T=l("div"),D=l("div"),A=l("div"),V=l("div"),ae.$$.fragment.c(),N=d(),O=l("div"),z=d(),C=l("div"),re&&re.c(),B=d(),ce&&ce.c(),G=d(),L=l("div"),W=l("a"),q=i("Edit this chapter"),X=d(),Y=l("div"),oe.$$.fragment.c(),ee=d(),ie&&ie.c(),this.h()},l(e){s=a(e,"META",{name:!0,content:!0},!1),r(s).forEach(c),h=a(e,"META",{name:!0,content:!0},!1),r(h).forEach(c),g=a(e,"META",{name:!0,content:!0},!1),r(g).forEach(c),S=m(e),T=a(e,"DIV",{class:!0},!1);var t=r(T);D=a(t,"DIV",{class:!0},!1);var l=r(D);A=a(l,"DIV",{class:!0},!1);var n=r(A);V=a(n,"DIV",{class:!0},!1);var o=r(V);ae.$$.fragment.l(o),o.forEach(c),N=m(n),O=a(n,"DIV",{class:!0},!1);var i=r(O);z=m(i),C=a(i,"DIV",{class:!0},!1);var p=r(C);re&&re.l(p),B=m(p),ce&&ce.l(p),p.forEach(c),G=m(i),L=a(i,"DIV",{class:!0},!1);var u=r(L);W=a(u,"A",{class:!0,href:!0},!1);var d=r(W);q=f(d,"Edit this chapter"),d.forEach(c),u.forEach(c),i.forEach(c),n.forEach(c),X=m(l),Y=a(l,"DIV",{class:!0},!1);var v=r(Y);oe.$$.fragment.l(v),v.forEach(c),l.forEach(c),ee=m(t),ie&&ie.l(t),t.forEach(c),this.h()},h(){n(s,"name","twitter:title"),n(s,"content","Svelte tutorial"),n(h,"name","twitter:description"),n(h,"content",u=e.selected.section.title+" / "+e.selected.chapter.title),n(g,"name","Description"),n(g,"content",v=e.selected.section.title+" / "+e.selected.chapter.title),n(V,"class","table-of-contents"),U=new k(le,z),n(C,"class","controls svelte-163pr1f"),n(W,"class","no-underline svelte-163pr1f"),n(W,"href",e.improve_link),n(L,"class","improve-chapter svelte-163pr1f"),n(O,"class","chapter-markup svelte-163pr1f"),n(A,"class","tutorial-text svelte-163pr1f"),n(Y,"class","tutorial-repl"),n(D,"class",Z="viewport offset-"+e.offset+" svelte-163pr1f"),n(T,"class","tutorial-outer svelte-163pr1f"),se=$(J,"resize",e.onwindowresize)},m(t,l){p(document.head,s),p(document.head,h),p(document.head,g),o(t,S,l),o(t,T,l),p(T,D),p(D,A),p(A,V),b(ae,V,null),p(A,N),p(A,O),U.m(O),p(O,z),p(O,C),re&&re.m(C,null),p(C,B),ce&&ce.m(C,null),p(O,G),p(O,L),p(L,W),p(W,q),e.div3_binding(O),p(D,X),p(D,Y),b(oe,Y,null),p(T,ee),ie&&ie.m(T,null),te=!0},p(e,s){te&&!e.selected||t===(t=s.selected.section.title+" / "+s.selected.chapter.title+" • Svelte Tutorial")||(document.title=t),te&&!e.selected||u===(u=s.selected.section.title+" / "+s.selected.chapter.title)||n(h,"content",u),te&&!e.selected||v===(v=s.selected.section.title+" / "+s.selected.chapter.title)||n(g,"content",v);var l={};e.slug&&(l.slug=s.slug),e.selected&&(l.selected=s.selected),ae.$set(l),te&&!e.chapter||le===(le=s.chapter.html+"")||U.p(le),s.chapter.app_b?re?re.p(e,s):((re=K(s)).c(),re.m(C,B)):re&&(re.d(1),re=null),s.selected.next?ce?ce.p(e,s):((ce=Q(s)).c(),ce.m(C,null)):ce&&(ce.d(1),ce=null),te&&!e.improve_link||n(W,"href",s.improve_link);var a={};e.mobile&&(a.orientation=s.mobile?"columns":"rows"),e.mobile&&(a.fixed=s.mobile),oe.$set(a),te&&!e.offset||Z===(Z="viewport offset-"+s.offset+" svelte-163pr1f")||n(D,"class",Z),s.mobile?ie?(ie.p(e,s),_(ie,1)):((ie=F(s)).c(),_(ie,1),ie.m(T,null)):ie&&(I(),w(ie,1,1,()=>{ie=null}),j())},i(e){te||(_(ae.$$.fragment,e),_(oe.$$.fragment,e),_(ie),te=!0)},o(e){w(ae.$$.fragment,e),w(oe.$$.fragment,e),w(ie),te=!1},d(t){c(s),c(h),c(g),t&&(c(S),c(T)),E(ae),re&&re.d(),ce&&ce.d(),e.div3_binding(null),e.repl_1_binding(null),E(oe),ie&&ie.d(),se()}}}async function Y({params:e}){const t=await this.fetch(`tutorial/${e.slug}.json`);return t.ok?{slug:e.slug,chapter:await t.json()}:this.redirect(301,"tutorial/basics")}const Z="https://github.com/sveltejs/svelte/tree/master/site/content/tutorial";function ee(e,t,s){let{slug:l,chapter:a}=t;const{sections:r}=S("tutorial");let c,n,o;const i=new Map;let f=window.innerWidth,p=0;r.forEach(e=>{e.chapters.forEach(t=>{const s={slug:t.slug,section:e,chapter:t,prev:n};i.set(t.slug,s),n&&(n.next=s),n=s})});const h=e=>({name:e.name,type:e.type,source:e.source});function u(){c.update({components:a.app_a.map(h)})}function d(){c.update({components:a.app_b.map(h)})}let m=!1;let g,v,$;return e.$set=e=>{"slug"in e&&s("slug",l=e.slug),"chapter"in e&&s("chapter",a=e.chapter)},e.$$.update=(e={scrollable:1,chapter:1,slug:1,selected:1,repl:1,width:1})=>{(e.scrollable||e.chapter)&&o&&o.scrollTo(0,0),e.slug&&s("selected",g=i.get(l)),e.selected&&s("improve_link",v=`${Z}/${g.chapter.section_dir}/${g.chapter.chapter_dir}`),(e.repl||e.chapter)&&c&&(s("completed",m=!1),c.set({components:a.app_a.map(h)})),e.width&&s("mobile",$=f<768)},{slug:l,chapter:a,sections:r,repl:c,scrollable:o,width:f,offset:p,reset:u,complete:d,completed:m,handle_change:function(e){s("completed",m=e.detail.components.every((e,t)=>{const s=a.app_b[t];return s&&e.name===s.name&&e.type===s.type&&e.source.trim().replace(/\s+$/gm,"")===s.source.trim().replace(/\s+$/gm,"")}))},selected:g,improve_link:v,mobile:$,onwindowresize:function(){f=J.innerWidth,s("width",f)},click_handler:()=>m?u():d(),div3_binding:function(e){D[e?"unshift":"push"](()=>{s("scrollable",o=e)})},repl_1_binding:function(e){D[e?"unshift":"push"](()=>{s("repl",c=e)})},screentoggle_offset_binding:function(e){s("offset",p=e)}}}export default class extends e{constructor(e){super(),t(this,e,ee,X,s,["slug","chapter"])}}export{Y as preload};
