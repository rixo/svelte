import"./typeof.ab799a4a.js";import{_ as e}from"./slicedToArray.f13a096f.js";import"./_commonjsHelpers.7baa5521.js";import"./asyncToGenerator.9962de7f.js";import{_ as n,a as t,b as o,c as i,i as r,s as a,d as s,S as c,W as l,e as u,o as d,p as f,f as p,g as m,h as v,q as h,j as g,P as b,l as w,t as $,u as _,v as y,w as k,z as x,R as j,m as E,C as U,r as S,ab as A,y as T,V as z,a5 as R,a6 as I}from"./index.db006978.js";import"./index.3f9da627.js";import{a as O}from"./app.6758a37d.js";import"./index.3c9be4ff.js";import{R as P}from"./Repl.9157cd82.js";import{I as C}from"./InputOutputToggle.0b72d955.js";for(var D=[],G=0;G<256;G++){for(var L=G,M=0;M<8;M++)L=1&L?3988292384^L>>>1:L>>>1;D[G]=L}"undefined"!=typeof navigator&&navigator.platform;var V=A.window;function W(e){var n,t;function o(t){e.inputoutputtoggle_checked_binding.call(null,t),n=!0,I(function(){return n=!1})}var i={};void 0!==e.checked&&(i.checked=e.checked);var r=new C({props:i});return z.push(function(){return R(r,"checked",o)}),{c:function(){r.$$.fragment.c()},l:function(e){r.$$.fragment.l(e)},m:function(e,n){$(r,e,n),t=!0},p:function(e,t){var o={};!n&&e.checked&&(o.checked=t.checked),r.$set(o)},i:function(e){t||(_(r.$$.fragment,e),t=!0)},o:function(e){y(r.$$.fragment,e),t=!1},d:function(e){k(r,e)}}}function q(e){var n,t,o,i,r,a,s,c;l(e.onwindowresize),document.title=n=e.name+" • REPL • Svelte";var U=function(e){var n,t,o,i,r={workersUrl:"workers",svelteUrl:e.svelteUrl,rollupUrl:e.rollupUrl,relaxed:e.relaxed,fixed:e.mobile,injectedJS:e.mapbox_setup},a=new P({props:r});e.repl_1_binding(a);var s=e.mobile&&W(e);return{c:function(){n=u("div"),a.$$.fragment.c(),t=d(),s&&s.c(),o=f(),this.h()},l:function(e){n=p(e,"DIV",{class:!0},!1);var i=m(n);a.$$.fragment.l(i),i.forEach(v),t=h(e),s&&s.l(e),o=f(),this.h()},h:function(){g(n,"class","viewport svelte-126i8yp"),b(n,"offset",e.checked)},m:function(e,r){w(e,n,r),$(a,n,null),w(e,t,r),s&&s.m(e,r),w(e,o,r),i=!0},p:function(e,t){var i={};e.svelteUrl&&(i.svelteUrl=t.svelteUrl),e.relaxed&&(i.relaxed=t.relaxed),e.mobile&&(i.fixed=t.mobile),a.$set(i),e.checked&&b(n,"offset",t.checked),t.mobile?s?(s.p(e,t),_(s,1)):((s=W(t)).c(),_(s,1),s.m(o.parentNode,o)):s&&(T(),y(s,1,1,function(){s=null}),x())},i:function(e){i||(_(a.$$.fragment,e),_(s),i=!0)},o:function(e){y(a.$$.fragment,e),y(s),i=!1},d:function(i){i&&v(n),e.repl_1_binding(null),k(a),i&&v(t),s&&s.d(i),i&&v(o)}}}(e);return{c:function(){t=u("meta"),o=u("meta"),i=u("meta"),r=d(),a=u("div"),U&&U.c(),this.h()},l:function(e){t=p(e,"META",{name:!0,content:!0},!1),m(t).forEach(v),o=p(e,"META",{name:!0,content:!0},!1),m(o).forEach(v),i=p(e,"META",{name:!0,content:!0},!1),m(i).forEach(v),r=h(e),a=p(e,"DIV",{class:!0},!1);var n=m(a);U&&U.l(n),n.forEach(v),this.h()},h:function(){g(t,"name","twitter:title"),g(t,"content","Svelte REPL"),g(o,"name","twitter:description"),g(o,"content","Cybernetically enhanced web apps"),g(i,"name","Description"),g(i,"content","Interactive Svelte playground"),g(a,"class","repl-outer zen-mode svelte-126i8yp"),b(a,"mobile",e.mobile),c=j(V,"resize",e.onwindowresize)},m:function(e,n){E(document.head,t),E(document.head,o),E(document.head,i),w(e,r,n),w(e,a,n),U&&U.m(a,null),s=!0},p:function(e,t){s&&!e.name||n===(n=t.name+" • REPL • Svelte")||(document.title=n),U.p(e,t),e.mobile&&b(a,"mobile",t.mobile)},i:function(e){s||(_(U),s=!0)},o:function(e){y(U),s=!1},d:function(e){v(t),v(o),v(i),e&&(v(r),v(a)),U&&U.d(),c()}}}function N(e){var n=e.params;return{version:e.query.version||"3",id:n.id}}function B(n,t,o){var i,r,a,s=t.version,c=t.id,l=O().session;U(n,l,function(e){o("$session",i=e)});var u="Loading...",d=!1,f=window.innerWidth,p=!1;function m(e){var n=[];"latest"!==e&&n.push("version=".concat(e));var t=n.length>0?"repl/".concat(c,"?").concat(n.join("&")):"repl/".concat(c);history.replaceState({},"x",t)}function v(n){a&&a.uid===n||fetch("repl/".concat(n,".json")).then(function(n){n.ok?n.json().then(function(n){o("gist",a=n),o("name",u=n.name),o("is_relaxed_gist",d=n.relaxed);var t=n.files.map(function(n){var t=n.name.split("."),o=e(t,2),i=o[0],r=o[1];return"html"===r&&(r="svelte"),{name:i,type:r,source:n.source}});t.sort(function(e,n){return"Game"===e.name&&"svelte"===e.type?-1:"Game"===n.name&&"svelte"===n.type?1:"App"===e.name&&"svelte"===e.type?-1:"App"===n.name&&"svelte"===n.type?1:e.type!==n.type?"svelte"===e.type?-1:1:e.name<n.name?-1:1}),r.set({components:t})}):console.warn("TODO: 404 Gist")})}S(function(){"local"!==s&&fetch("https://unpkg.com/svelte@".concat(s||"3","/package.json")).then(function(e){return e.json()}).then(function(e){o("version",s=e.version)})});var h,g,b;return n.$set=function(e){"version"in e&&o("version",s=e.version),"id"in e&&o("id",c=e.id)},n.$$.update=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{version:1,id:1,width:1,is_relaxed_gist:1,$session:1,gist:1};e.version&&"undefined"!=typeof history&&m(s),e.id&&v(c),e.version&&o("svelteUrl",h="local"===s?"".concat(location.origin,"/repl/local"):"https://unpkg.com/svelte@".concat(s)),e.width&&o("mobile",g=f<540),(e.is_relaxed_gist||e.$session||e.gist)&&o("relaxed",b=d||i.user&&a&&i.user.uid===a.owner)},{version:s,id:c,session:l,repl:r,name:u,width:f,checked:p,rollupUrl:"https://unpkg.com/rollup@1/dist/rollup.browser.js",mapbox_setup:"window.MAPBOX_ACCESS_TOKEN = undefined;",svelteUrl:h,mobile:g,relaxed:b,onwindowresize:function(){f=V.innerWidth,o("width",f)},repl_1_binding:function(e){z[e?"unshift":"push"](function(){o("repl",r=e)})},inputoutputtoggle_checked_binding:function(e){o("checked",p=e)}}}var H=function(e){function l(e){var n;return t(this,l),n=o(this,i(l).call(this)),r(s(n),e,B,q,a,["version","id"]),n}return n(l,c),l}();export default H;export{N as preload};
